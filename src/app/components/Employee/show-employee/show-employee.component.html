<div class="container-fluid">
  <h2><b>{{ titleComp }}</b></h2>

  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="filterById"><b>Filtrar pelo ID:</b></label>
        <input
          type="number"
          class="form-control"
          id="filterById"
          [(ngModel)]="idFilter"
          placeholder="ID"
          autofocus
        />
      </div>
    </div>
    <div class="col-md-6">
      <div class="form-group">
        <label for="filterByName"><b>Filtrar pelo Nome:</b></label>
        <input
          type="text"
          class="form-control"
          id="filterByName"
          [(ngModel)]="nameFilter"
          placeholder="NOME"
        />
      </div>
    </div>
  </div>

  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>Id:</th>
        <th>Funcionário:</th>
        <th>ID Depart:</th>
        <th>Data de Contratação:</th>
        <th>Salário:</th>
        <th>Ações:</th>        
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let employee of filteredEmployees">
        <td>{{ employee.id }}</td>
        <td>{{ employee.nameEmployee }}</td>
        <td>{{ employee.departamentId }}</td>        
        <td>{{ employee.hiringDate | date: 'dd/MM/yyyy HH:mm:ss'}}</td>
        <td>{{ employee.salary | currency:'BRL' }}</td>

        <td>
          <button
            class="btn btn-primary btn-sm"
            (click)="selectedEmployeeId(employee.id)"
            title="Visualizar"
          >
            <i class="fas fa-eye"></i>
          </button>

          <button
            class="btn btn-warning btn-sm"
            (click)="editEmployee(employee.id)"
            title="Editar">
            <i class="fas fa-edit"></i>
          </button>

          <button class="btn btn-secondary btn-sm" 
          (click)="printEmployee()"
          title="Imprimir">
          <i class="fas fa-print"></i>
          </button>   


          <button
            class="btn btn-danger btn-sm"
            (click)="deleteEmployee(employee.id)"
            title="Excluir"
          >
            <i class="fas fa-trash-alt"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="alert alert-warning mt-3" *ngIf="!hasResults">
    Nenhum Funcionário encontrado com os critérios de filtragem selecionados.
  </div>

  <div class="d-flex justify-content-end">
    <button class="btn btn-success" (click)="filterEmployees()">Filtrar</button>
    <div class="mx-1">
      <button class="btn btn-secondary" (click)="clearFilters()">
        Limpar Filtros
      </button>
      <button
        class="btn btn-primary mx-1"
        (click)="addEmployee()"
        routerLink="/addRegisterEmployee"
      >
        Adicionar
      </button>
    </div>
  </div>
</div>
